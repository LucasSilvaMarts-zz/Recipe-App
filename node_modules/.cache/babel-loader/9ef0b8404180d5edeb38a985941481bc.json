{"ast":null,"code":"var _jsxFileName = \"/home/administrador/Projects/sd-09-project-recipes-app/src/pages/DetalhesBebida.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getDrinkIdDetails } from '../services';\nimport { AppContext } from '../context/AppContext';\nimport shareImg from \"../images/shareIcon.svg\";\nimport whiteHeartImg from \"../images/whiteHeartIcon.svg\";\nconst MAX_ITEMS = 6;\n\nconst DetalhesBebida = () => {\n  const {\n    id\n  } = useParams();\n  const [idDetails, setIdDetails] = useState([]);\n  const {\n    foods\n  } = useContext(AppContext);\n\n  const getIngredients = () => {\n    const ingredients = Object.entries(idDetails).filter(details => {\n      const condition1 = details[0].includes('Ingredient');\n      const condition2 = details[1] !== '' && details[1] !== null;\n      return condition1 && condition2;\n    });\n    const measure = Object.entries(idDetails).filter(details => details[0].includes('Measure'));\n    const objIngredients = ingredients.reduce((acc, curr, index) => {\n      acc.push({\n        name: curr[1],\n        index\n      });\n      return acc;\n    }, []);\n    const objMeasure = measure.reduce((acc, curr, index) => {\n      acc.push({\n        measure: curr[1],\n        index\n      });\n      return acc;\n    }, []);\n    return objIngredients.map(ingredient => {\n      const measurament = objMeasure.filter(xablau => ingredient.index === xablau.index);\n      return {\n        name: ingredient.name,\n        measure: measurament[0].measure\n      };\n    });\n  };\n\n  const fetchDetails = async identification => {\n    const results = await getDrinkIdDetails(identification);\n    setIdDetails(results);\n  };\n\n  useEffect(() => {\n    fetchDetails(id);\n  }, [id]);\n  if (!idDetails) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 26\n    }\n  }, \"Carregando...\");\n  const {\n    strDrinkThumb,\n    strDrink,\n    strCategory,\n    strInstructions\n  } = idDetails;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: strDrinkThumb,\n    alt: strDrink,\n    \"data-testid\": \"recipe-photo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    \"data-testid\": \"recipe-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, strDrink), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"share-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: shareImg,\n    alt: \"Compartilhar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"favorite-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: whiteHeartImg,\n    alt: \"Favoritar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, strCategory), idDetails && getIngredients().map((ingredient, index) => /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": `${index}-ingredient-name-and-measure`,\n    key: ingredient.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, `${ingredient.name} ${ingredient.measure === null ? '' : ingredient.measure}`)), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, strInstructions), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"0-recomendation-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, \"comidas recomendadas\"), foods && foods.splice(0, MAX_ITEMS).map((food, index) => /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": `${index}-recipe-card`,\n    key: food.idMeal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": `${index}-card-img`,\n    src: food.strMealThumb,\n    alt: food.strMeal,\n    width: \"100px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": `${index}-card-name`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, food.strMeal))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"start-recipe-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, \"Iniciar Receita\"));\n};\n\nexport default DetalhesBebida;","map":{"version":3,"sources":["/home/administrador/Projects/sd-09-project-recipes-app/src/pages/DetalhesBebida.js"],"names":["React","useState","useEffect","useContext","useParams","getDrinkIdDetails","AppContext","MAX_ITEMS","DetalhesBebida","id","idDetails","setIdDetails","foods","getIngredients","ingredients","Object","entries","filter","details","condition1","includes","condition2","measure","objIngredients","reduce","acc","curr","index","push","name","objMeasure","map","ingredient","measurament","xablau","fetchDetails","identification","results","strDrinkThumb","strDrink","strCategory","strInstructions","shareImg","whiteHeartImg","splice","food","idMeal","strMealThumb","strMeal"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,iBAAT,QAAkC,aAAlC;AACA,SAASC,UAAT,QAA2B,uBAA3B;;;AAIA,MAAMC,SAAS,GAAG,CAAlB;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAC3B,QAAM;AAAEC,IAAAA;AAAF,MAASL,SAAS,EAAxB;AACA,QAAM,CAACM,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM;AAAEW,IAAAA;AAAF,MAAYT,UAAU,CAACG,UAAD,CAA5B;;AAEA,QAAMO,cAAc,GAAG,MAAM;AAC3B,UAAMC,WAAW,GAAGC,MAAM,CAACC,OAAP,CAAeN,SAAf,EAA0BO,MAA1B,CACjBC,OAAD,IAAa;AACX,YAAMC,UAAU,GAAGD,OAAO,CAAC,CAAD,CAAP,CAAWE,QAAX,CAAoB,YAApB,CAAnB;AACA,YAAMC,UAAU,GAAGH,OAAO,CAAC,CAAD,CAAP,KAAe,EAAf,IAAqBA,OAAO,CAAC,CAAD,CAAP,KAAe,IAAvD;AACA,aAAOC,UAAU,IAAIE,UAArB;AACD,KALiB,CAApB;AAOA,UAAMC,OAAO,GAAGP,MAAM,CAACC,OAAP,CAAeN,SAAf,EAA0BO,MAA1B,CACbC,OAAD,IAAaA,OAAO,CAAC,CAAD,CAAP,CAAWE,QAAX,CAAoB,SAApB,CADC,CAAhB;AAGA,UAAMG,cAAc,GAAGT,WAAW,CAACU,MAAZ,CAAmB,CAACC,GAAD,EAAMC,IAAN,EAAYC,KAAZ,KAAsB;AAC9DF,MAAAA,GAAG,CAACG,IAAJ,CAAS;AAAEC,QAAAA,IAAI,EAAEH,IAAI,CAAC,CAAD,CAAZ;AAAiBC,QAAAA;AAAjB,OAAT;AACA,aAAOF,GAAP;AACD,KAHsB,EAGpB,EAHoB,CAAvB;AAIA,UAAMK,UAAU,GAAGR,OAAO,CAACE,MAAR,CAAe,CAACC,GAAD,EAAMC,IAAN,EAAYC,KAAZ,KAAsB;AACtDF,MAAAA,GAAG,CAACG,IAAJ,CAAS;AAAEN,QAAAA,OAAO,EAAEI,IAAI,CAAC,CAAD,CAAf;AAAoBC,QAAAA;AAApB,OAAT;AACA,aAAOF,GAAP;AACD,KAHkB,EAGhB,EAHgB,CAAnB;AAKA,WAAOF,cAAc,CAACQ,GAAf,CAAoBC,UAAD,IAAgB;AACxC,YAAMC,WAAW,GAAGH,UAAU,CAC3Bb,MADiB,CACTiB,MAAD,IAAYF,UAAU,CAACL,KAAX,KAAqBO,MAAM,CAACP,KAD9B,CAApB;AAEA,aAAO;AAAEE,QAAAA,IAAI,EAAEG,UAAU,CAACH,IAAnB;AAAyBP,QAAAA,OAAO,EAAEW,WAAW,CAAC,CAAD,CAAX,CAAeX;AAAjD,OAAP;AACD,KAJM,CAAP;AAKD,GAzBD;;AA2BA,QAAMa,YAAY,GAAG,MAAOC,cAAP,IAA0B;AAC7C,UAAMC,OAAO,GAAG,MAAMhC,iBAAiB,CAAC+B,cAAD,CAAvC;AACAzB,IAAAA,YAAY,CAAC0B,OAAD,CAAZ;AACD,GAHD;;AAKAnC,EAAAA,SAAS,CAAC,MAAM;AACdiC,IAAAA,YAAY,CAAC1B,EAAD,CAAZ;AACD,GAFQ,EAEN,CAACA,EAAD,CAFM,CAAT;AAIA,MAAI,CAACC,SAAL,EAAgB,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAP;AAChB,QAAM;AAAE4B,IAAAA,aAAF;AACJC,IAAAA,QADI;AACMC,IAAAA,WADN;AACmBC,IAAAA;AADnB,MACuC/B,SAD7C;AAGA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAG4B,aAAX;AAA2B,IAAA,GAAG,EAAGC,QAAjC;AAA4C,mBAAY,cAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAI,mBAAY,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgCA,QAAhC,CAFF,eAGE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,mBAAY,WAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAGG,QAAX;AAAsB,IAAA,GAAG,EAAC,cAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAHF,eAME;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,mBAAY,cAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAGC,aAAX;AAA2B,IAAA,GAAG,EAAC,WAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CANF,eASE;AAAG,mBAAY,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAkCH,WAAlC,CATF,EAUI9B,SAAS,IAAIG,cAAc,GAAGkB,GAAjB,CAAqB,CAACC,UAAD,EAAaL,KAAb,kBAClC;AAAG,mBAAe,GAAEA,KAAM,8BAA1B;AAA0D,IAAA,GAAG,EAAGK,UAAU,CAACH,IAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,GAAEG,UAAU,CAACH,IAAK,IAAGG,UAAU,CAACV,OAAX,KAAuB,IAAvB,GAA8B,EAA9B,GAAmCU,UAAU,CAACV,OAAQ,EAD/E,CADa,CAVjB,eAeE;AAAG,mBAAY,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+BmB,eAA/B,CAfF,eAgBE;AAAG,mBAAY,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAhBF,EAiBI7B,KAAK,IAAIA,KAAK,CAACgC,MAAN,CAAa,CAAb,EAAgBrC,SAAhB,EAA2BwB,GAA3B,CAA+B,CAACc,IAAD,EAAOlB,KAAP,kBACxC;AAAK,mBAAe,GAAEA,KAAM,cAA5B;AAA4C,IAAA,GAAG,EAAGkB,IAAI,CAACC,MAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,mBAAe,GAAEnB,KAAM,WADzB;AAEE,IAAA,GAAG,EAAGkB,IAAI,CAACE,YAFb;AAGE,IAAA,GAAG,EAAGF,IAAI,CAACG,OAHb;AAIE,IAAA,KAAK,EAAC,OAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAOE;AAAG,mBAAe,GAAErB,KAAM,YAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyCkB,IAAI,CAACG,OAA9C,CAPF,CADS,CAjBb,eA4BE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,mBAAY,kBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBA5BF,CADF;AAkCD,CA/ED;;AAiFA,eAAexC,cAAf","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getDrinkIdDetails } from '../services';\nimport { AppContext } from '../context/AppContext';\nimport shareImg from '../images/shareIcon.svg';\nimport whiteHeartImg from '../images/whiteHeartIcon.svg';\n\nconst MAX_ITEMS = 6;\n\nconst DetalhesBebida = () => {\n  const { id } = useParams();\n  const [idDetails, setIdDetails] = useState([]);\n  const { foods } = useContext(AppContext);\n\n  const getIngredients = () => {\n    const ingredients = Object.entries(idDetails).filter(\n      (details) => {\n        const condition1 = details[0].includes('Ingredient');\n        const condition2 = details[1] !== '' && details[1] !== null;\n        return condition1 && condition2;\n      },\n    );\n    const measure = Object.entries(idDetails).filter(\n      (details) => details[0].includes('Measure'),\n    );\n    const objIngredients = ingredients.reduce((acc, curr, index) => {\n      acc.push({ name: curr[1], index });\n      return acc;\n    }, []);\n    const objMeasure = measure.reduce((acc, curr, index) => {\n      acc.push({ measure: curr[1], index });\n      return acc;\n    }, []);\n\n    return objIngredients.map((ingredient) => {\n      const measurament = objMeasure\n        .filter((xablau) => ingredient.index === xablau.index);\n      return { name: ingredient.name, measure: measurament[0].measure };\n    });\n  };\n\n  const fetchDetails = async (identification) => {\n    const results = await getDrinkIdDetails(identification);\n    setIdDetails(results);\n  };\n\n  useEffect(() => {\n    fetchDetails(id);\n  }, [id]);\n\n  if (!idDetails) return <p>Carregando...</p>;\n  const { strDrinkThumb,\n    strDrink, strCategory, strInstructions } = idDetails;\n\n  return (\n    <div>\n      <img src={ strDrinkThumb } alt={ strDrink } data-testid=\"recipe-photo\" />\n      <h2 data-testid=\"recipe-title\">{strDrink}</h2>\n      <button type=\"button\" data-testid=\"share-btn\">\n        <img src={ shareImg } alt=\"Compartilhar\" />\n      </button>\n      <button type=\"button\" data-testid=\"favorite-btn\">\n        <img src={ whiteHeartImg } alt=\"Favoritar\" />\n      </button>\n      <p data-testid=\"recipe-category\">{strCategory}</p>\n      { idDetails && getIngredients().map((ingredient, index) => (\n        <p data-testid={ `${index}-ingredient-name-and-measure` } key={ ingredient.name }>\n          {`${ingredient.name} ${ingredient.measure === null ? '' : ingredient.measure}`}\n        </p>\n      )) }\n      <p data-testid=\"instructions\">{strInstructions}</p>\n      <p data-testid=\"0-recomendation-card\">comidas recomendadas</p>\n      { foods && foods.splice(0, MAX_ITEMS).map((food, index) => (\n        <div data-testid={ `${index}-recipe-card` } key={ food.idMeal }>\n          <img\n            data-testid={ `${index}-card-img` }\n            src={ food.strMealThumb }\n            alt={ food.strMeal }\n            width=\"100px\"\n          />\n          <p data-testid={ `${index}-card-name` }>{food.strMeal}</p>\n        </div>\n      )) }\n      <button type=\"button\" data-testid=\"start-recipe-btn\">\n        Iniciar Receita\n      </button>\n    </div>\n  );\n};\n\nexport default DetalhesBebida;\n"]},"metadata":{},"sourceType":"module"}